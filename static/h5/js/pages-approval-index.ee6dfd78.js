import{d as a,b as e,r as s,o as t,J as l,A as i,y as p,c as r,e as u,w as n,f as v,x as c,h as d,C as o,D as m,F as _,t as f,E as x,l as g,q as y,_ as b}from"./index.cc005d8f.js";import{P as j}from"./page.2a11d509.js";import{A as w}from"./item.c4d64bbc.js";import"./vir-enums-text.vue_vue_type_script_name_VirEnumsView_setup_true_lang.827dec80.js";const h=a({name:"ApprovalIndex"}),k=b(a({...h,setup(a){const b=e(new j(1,15)),h=s("0");function k({approve_state:a,tenant_id:e,uuid:s}={}){s&&e&&"0"===String(a)?y("/pages/approval/examine",{id:s}):y("/pages/approval/view",{id:s})}function C(a,e="0"){b.ready(a,(()=>b.load(a,{approveState:e},(a=>f("/manage/sealapply/approve/list.json",a).finally((()=>{x()}))))))}return t((a=>h.value=a.type||h.value)),l((()=>C(!1,h.value))),i((()=>C(!0,h.value))),p(h,(a=>C(!0,h.value)),{immediate:!0}),(a,e)=>{const s=g("v-uni-text"),t=g("v-uni-view"),l=g("vir-page");return r(),u(l,{class:"vir-approval-index-page"},{default:n((()=>[v(t,{class:"vir-header-tab-list flex split"},{default:n((()=>[v(t,{class:c(["vir-header-tab-item",{active:"0"===h.value}])},{default:n((()=>[v(s,{class:"text",onClick:e[0]||(e[0]=a=>h.value="0")},{default:n((()=>[d("待审批")])),_:1})])),_:1},8,["class"]),v(t,{class:c(["vir-header-tab-item",{active:"2,3"===h.value}])},{default:n((()=>[v(s,{class:"text",onClick:e[1]||(e[1]=a=>h.value="2,3")},{default:n((()=>[d("已审批")])),_:1})])),_:1},8,["class"])])),_:1}),(r(!0),o(_,null,m(b.pageData,((a,e)=>(r(),u(w,{key:e,item:a,onClick:k},null,8,["item"])))),128))])),_:1})}}}),[["__scopeId","data-v-605c2030"]]);export{k as default};
